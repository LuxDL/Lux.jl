# name: CIPreRelease (Lux)
# on:
#   pull_request:
#     branches:
#       - main
#     paths:
#       - ".github/workflows/CommonCI.yml"
#       - "src/**"
#       - "ext/**"
#       - "test/**"
#       - "Project.toml"
#       - ".github/workflows/CI.yml"
#       - "lib/LuxTestUtils/src/**"
#       - "lib/LuxTestUtils/ext/**"
#       - "lib/LuxCore/src/**"
#       - "lib/LuxCore/ext/**"
#       - "lib/MLDataDevices/src/**"
#       - "lib/MLDataDevices/ext/**"
#       - "lib/WeightInitializers/src/**"
#       - "lib/WeightInitializers/ext/**"
#       - "lib/LuxLib/src/**"
#       - "lib/LuxLib/ext/**"
#   push:
#     branches:
#       - main

# concurrency:
#   group: ${{ github.workflow }}-${{ github.ref }}
#   cancel-in-progress: ${{ startsWith(github.ref, 'refs/pull/') }}

# jobs:
#   test:
#     strategy:
#       fail-fast: false
#       matrix:
#         test_group:
#           - "core_layers"
#           - "normalize_layers"
#           - "recurrent_layers"
#           - "autodiff"
#           - "misc"
#         #   - "reactant"
#     uses: ./.github/workflows/CommonCI.yml
#     with:
#       julia_version: "pre"
#       project: "."
#       test_args: "BACKEND_GROUP=${{ matrix.test_group }} LUX_TEST_GROUP=${{ matrix.test_group }}"
